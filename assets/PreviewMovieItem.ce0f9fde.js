import{_ as I,o as h,h as _,i,a1 as D,a2 as L,T as N,r as c,O as P,a3 as $,a4 as B,a5 as U,a6 as H,a7 as F,w as l,n as w,x as d,H as y,K as g,t as b,k as V,J as z,g as O,a8 as j,a9 as E}from"./index.2ef29348.js";const G={},J={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"Hawkins-Icon Hawkins-Icon-Standard"},K=i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.293 7.29297L12.0001 14.5859L4.70718 7.29297L3.29297 8.70718L11.293 16.7072C11.4805 16.8947 11.7349 17.0001 12.0001 17.0001C12.2653 17.0001 12.5196 16.8947 12.7072 16.7072L20.7072 8.70718L19.293 7.29297Z",fill:"currentColor"},null,-1),R=[K];function Z(e,t){return h(),_("svg",J,R)}var Q=I(G,[["render",Z]]);const{showMovieModal:W,resetMovieModalData:X}=D(),Y=L({name:"previewSlideMovie",props:{movie:{type:Object,required:!0},left:{type:Number,required:!0},top:{type:Number,required:!0},imgurl:{type:String,required:!0},imgbox:{type:String,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},isFirstItem:{type:Boolean,required:!0},isLastItem:{type:Boolean,required:!0}},setup(e){const t=e.movie.movie.id,m=e.movie.isNetflix;console.log("props.movie.movie",e.movie.movie);let f=N().getUserMovies();const a=c(!1);a.value=!!f.find(o=>o.toString().includes(t));const u=c(0),n=c(!1);P(()=>{let o=document.querySelector("#previewModal");o.style.top=e.top+"px",o.style.left=e.left+"px",setTimeout(()=>{n.value=!0},20)}),$(()=>{n.value=!1});function M(o){return(o*10).toFixed(0)}const v=c([]);function p(){let o=e.movie.movie,r=o.genre_ids?o.genre_ids:o.genres;s(r)}const s=o=>{if(o&&o.length){let r=o[0]._id;O(1,r).then(T=>{let C=T.data.results;v.value=C.filter(A=>A.id!==e.movie.id);let S=e.movie.movie,q={name:e.movie.title,backdrop_path:e.imgurl,vote_average:e.movie.score,overview:S.overview,similarMovies:v.value,isNetflix:m,id:t};X(q),W()})}};return{count:u,isActive:n,getMovieScore:M,showModal:p,isAddedMovie:a,addToMyMovies:async()=>{let o=m?"n"+t:t,r=await j(o);a.value=!!r},removeToMyMovies:async()=>{let o=await E(t);a.value=!o}}},components:{PlayIcon:B,CheckMark:U,Plus:H,ArrowDown:Q,ThumbUp:F}}),x={class:"info"},ee={class:"infoBtns-wrapper"},oe={class:"left"},ie={class:"infoIcon-btn play"},te={class:"infoIcon-btn"},se={class:"right"},ae={class:"preview-info"},ne={class:"movie-title"},re={key:0,class:"score match-score"};function le(e,t,m,k,f,a){const u=l("PlayIcon"),n=l("CheckMark"),M=l("Plus"),v=l("ThumbUp"),p=l("ArrowDown");return h(),_("div",{class:z(["previewMovie-wrapper",{active:e.isActive,isFirstItem:e.isFirstItem,isLastItem:e.isLastItem}])},[i("div",{class:"movie-box",style:w({width:e.width+"px",height:e.height+"px"})},[i("a",{class:"movie-bg",style:w({"background-image":"url(https://image.tmdb.org/t/p/w300"+e.imgurl+")"})},null,4)],4),i("div",x,[i("div",ee,[i("div",oe,[i("div",ie,[d(u)]),y(i("div",{onClick:t[0]||(t[0]=(...s)=>e.removeToMyMovies&&e.removeToMyMovies(...s)),class:"infoIcon-btn"},[d(n)],512),[[g,e.isAddedMovie]]),y(i("div",{class:"infoIcon-btn",onClick:t[1]||(t[1]=(...s)=>e.addToMyMovies&&e.addToMyMovies(...s))},[d(M)],512),[[g,!e.isAddedMovie]]),i("div",te,[d(v)])]),i("div",se,[i("div",{class:"infoIcon-btn",onClick:t[2]||(t[2]=(...s)=>e.showModal&&e.showModal(...s))},[d(p)])])]),i("div",ae,[i("h3",ne,b(e.movie.title),1),e.movie.score?(h(),_("div",re,b(e.getMovieScore(e.movie.score))+"% \u9069\u5408\u4F60 ",1)):V("",!0)])])],2)}var me=I(Y,[["render",le],["__scopeId","data-v-b1b303d4"]]);export{me as default};
//# sourceMappingURL=PreviewMovieItem.ce0f9fde.js.map
